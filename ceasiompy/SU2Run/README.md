<img align="right" height="70" src="../../documents/logos/CEASIOMpy_banner_aero.png">

# SU2Run

**Categories:** Aerodynamics, CFD, aeromaps

**State**: :heavy_check_mark:

<img align="right" height="120" src="https://github.com/su2code/SU2/raw/master/Common/doc/logoSU2small.png">

`SU2Run` module can prepare and run calculations with the CFD code [SU2](https://su2code.github.io/). SU2 is a computational analysis and design package that has been developed to solve multiphysics analysis and optimization tasks using unstructured mesh topologies. [[1]](#Economon15)

## Inputs

`SU2Run` takes as input a CPACS file, the mesh must have been generated by another module. Typical workflow which includes `SU2Run` looks like:

```mermaid
  graph LR;
      CPACS2SUMO-->SU2AutoMesh;
      SU2AutoMesh-->SU2Run;
      SU2Run-->SkinFriction;
```

The flight conditions must be defined by an aeromap from the CPACS file. Some calculation parameters can also be defined in the CPACS file (but some value will by provided by default)

## Analyses

`SU2Run` calculates aerodynamic coefficients of an aircraft for a given mesh and aeromap. It performs an Euler calculation with the SU2 code.

Other results can be obtained from the SU2 calculation, generally [Paraview](https://www.paraview.org/) is used to visualize the results.

<!-- <p align="center">
<img height="340" src="files/pytornado_example.png">
</p>
<p align="center">
Example of results from a SU2 calculation.
</p> -->

## Outputs

`SU2Run` outputs a CPACS file with the calculated aerodynamic coefficients added into the aeromap. In the results directory, a directory named `SU2` is created during the calculation, in it you all the results files produce by SU2.

## Installation or requirements

`SU2Run` is a native CEASIOMpy module, hence it is available and installed by default. To run it, you just have to be sure that you are in the CEASIOMpy Conda environment.

However to run `SU2Run` module, SU2 must be installed on your computer. Please refer to the [CEASIOMpy installation page](../../installation/INSTALLATION.md) to see if an automatic installation script is available for your OS.
For more information check out the official [SU2 installation page](https://su2code.github.io/docs_v7/Installation/).

We recommend to use a recent version of SU2, with older versions you might encounter some issues with the configuration file in which options are regularly changed.

## Limitations

Although SU2 is able to run Navier-Stokes calculations, for now, `SU2Run` only supports Euler calculation, that is to say the skin friction is neglected. You can use the [`SkinFriction`](../SkinFriction/README.md) module to calculate the skin frictions (with empirical methods) afterwards and add them to the drag coefficient.

:warning: When you run `SU2Run` module, the number of iterations is set manually, be careful to check if it is enough to reach the convergence of the aerodynamic coefficients and ideally a good reduction of the residual.

:warning: The mesh convergence should also be checked. If you use a mesh too coarse, the aerodynamic coefficients might be far from the values you would expect with a finer mesh.

## More information

* [SU2 website](https://su2code.github.io/)

* [SU2 Github repository](https://github.com/su2code/SU2)

* <https://en.wikipedia.org/wiki/Euler_equations_(fluid_dynamics>)

## References

<a id="Economon15">[1]</a> Economon and al. : SU2: An open-source suite for multiphysics simulation and design, AIAA Journal, 54(3):828-846, 2016. <http://arc.aiaa.org/doi/10.2514/1.J053813>
